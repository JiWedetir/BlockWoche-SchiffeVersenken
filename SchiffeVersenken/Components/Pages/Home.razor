@page "/"
@inject Microsoft.AspNetCore.Components.NavigationManager NavigationManager;


<MudContainer Style="@($"height:100%; width: 100%; background-image: {_bgUrl}; background-size: cover; background-position: center; background-repeat: no-repeat;")" Class="d-flex justify-center flex-column">
	<MudStack AlignItems="AlignItems.Center" Spacing="5">
		<MudText Align="Align.Center" Typo="Typo.h5"><b>User Login</b></MudText>
		<MudAutocomplete T="string" Label="Username" @bind-Value="_username" SearchFunc="@SearchUsers" Variant="Variant.Filled" Style="background-color: white;" />
		<MudTextField @bind-Value="_password" Label="Password" Variant="Variant.Filled" InputType="@PasswordInput" Adornment="Adornment.End" AdornmentIcon="@PasswordInputIcon" OnAdornmentClick="ButtonSeeClicked" Style="background-color: white;" />
		<MudStack Row="true">
			<MudButton OnClick="GoToLobbyPage" Variant="Variant.Filled" Style="background-color: white" Disabled=@(!_loginIsValid)>Login</MudButton>
			<MudButton OnClick="ToggleRegisterPopOver" Variant="Variant.Filled" Style="background-color: white">Register</MudButton>
			<a href="Lobby">Go to Lobby</a>
		</MudStack>
	</MudStack>
</MudContainer>


<MudPopover Open="@_isRegisterOpen" Fixed="true" Class="px-4 py-4" Style="width: 50%; height: 50%" AnchorOrigin="Origin.CenterCenter" TransformOrigin="Origin.CenterCenter">
	<MudStack AlignItems="AlignItems.Center">
		<MudIconButton Icon="@Icons.Material.Filled.Close" Color="Color.Dark" OnClick="@ToggleRegisterPopOver" />
		<MudText>Content of the popover can be anything.</MudText>
	</MudStack>
</MudPopover>

